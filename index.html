<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>VEIN Modding Wiki</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="site-header">
	<img class="logo" src="Media/UpscaledLogo.jpeg" alt="VEIN Logo">
	<h1 class="title">VEIN Modding Wiki</h1>
	<div class="header-tools">
		<div class="search">
			<input id="searchBox" type="search" placeholder="Search docs..." aria-label="Search">
			<div id="searchResults" class="search-results" hidden></div>
		</div>
		<button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">Theme</button>
	</div>
</header>

<div class="layout">
	<nav class="sidebar" id="sidebar"></nav>
	<main class="content">
		<article id="content"></article>
	</main>
	<aside id="page-toc"></aside>
</div>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
	// Custom renderer for admonition blocks
	const renderer = new marked.Renderer();
	renderer.blockquote = (quote) => {
		const admonitionRegex = /<p>\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]/;
		const match = quote.match(admonitionRegex);
		if (match) {
			const type = match[1];
			const lowerType = type.toLowerCase();
			const content = quote.replace(/<p>\[!.*\]<\/p>\\n?/, '');
			const iconMap = {
				'NOTE': 'fas fa-info-circle',
				'TIP': 'fas fa-lightbulb',
				'IMPORTANT': 'fas fa-exclamation-circle',
				'WARNING': 'fas fa-exclamation-triangle',
				'CAUTION': 'fas fa-shield-alt'
			};
			const iconClass = iconMap[type] || 'fas fa-info-circle';
			return `<div class="admonition ${lowerType}">
<p class="admonition-title"><i class="${iconClass}"></i> ${type}</p>
<div class="admonition-content">${content}</div>
</div>`;
		}
		return `<blockquote>\\n${quote}</blockquote>`;
	};
	marked.use({ renderer });
</script>
<script src="https://cdn.jsdelivr.net/npm/lunr/lunr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/atom-one-dark.min.css">
<script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
<script src="app.js"></script>
<script>
if('serviceWorker' in navigator){
	navigator.serviceWorker.register('./sw.js').catch(()=>{});
}
</script>
</body>
</html>

