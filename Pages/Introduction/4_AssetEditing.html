<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step 4: Your First Mod - Asset Editing</title>
</head>
<body>
    <a href="#Pages/Introduction/3_ToolConfiguration.html">&larr; Back to Step 3</a>
    <h1>Step 4: Your First Mod - Asset Editing</h1>

    <p>This tutorial walks you through editing properties on items and adding new properties. We'll recreate the <a href="https://www.nexusmods.com/vein/mods/6" target="_blank">"Easy Lockpicking Mod"</a> to demonstrate all necessary steps.</p>
    
    <h2>1. Finding Assets in FModel</h2>
    <p>In FModel, you can browse to find everything that exists within the game. All lock assets are located in: <code>Vein/Content/Vein/LockTypes</code></p>
    <img src="Media/Introduction/image35.png" alt="FModel File Browser" style="max-width: 100%; height: auto;">
    <p>Double-click on <code>LTD_BasicLock_Simple.uasset</code>. You can then use the Packages tab to inspect its properties. We are looking for <code>PickableEasinessModifier</code>. After inspecting a few files, we can determine the full list of assets we need to modify.</p>
    <img src="Media/Introduction/image38.png" alt="Lock Asset in FModel" style="max-width: 100%; height: auto;">
    <img src="Media/Introduction/image6.png" alt="PickableEasinessModifier Property" style="max-width: 100%; height: auto;">

    <h2>2. Exporting Raw Data</h2>
    <p>We need to modify every object with <code>PickableEasinessModifier</code> AND the base lock <code>LTD_BasicLock_Simple</code>. Our final list of exports is:</p>
    <ul>
        <li>LTD_BasicLock_Simple</li>
        <li>LTD_BasicLock_Tough</li>
        <li>LTD_BasicLock_VeryTough</li>
        <li>LTD_BasicLock</li>
        <li>LTD_BasicLock_CodeLock</li>
        <li>LTD_BasicLock_EnhancedLock</li>
        <li>LTD_BasicLock_RemoteLock</li>
    </ul>
    <img src="Media/Introduction/image27.png" alt="List of Lock Types" style="max-width: 100%; height: auto;">
    <p>Export these as Raw Data (.uasset). They'll be saved to your FModel output directory.</p>
    <img src="Media/Introduction/image31.png" alt="Export Raw Data Option" style="max-width: 100%; height: auto;">
    <img src="Media/Introduction/image19.png" alt="Exported Files" style="max-width: 100%; height: auto;">
    
    <h2>3. Editing Properties in UAssetGUI</h2>
    <ol>
        <li>Open UAssetGUI and open <code>LTD_BasicLock.uasset</code> from your FModel output folder.</li>
        <img src="Media/Introduction/image36.png" alt="Opening File in UAssetGUI" style="max-width: 100%; height: auto;">
        <li>Search for <code>PickableEasinessMultiplier</code>.</li>
        <img src="Media/Introduction/image7.png" alt="Finding Property in UAssetGUI" style="max-width: 100%; height: auto;">
        <li>Double-click its value (e.g., "0.5") and change it to "10".</li>
        <li>Click <strong>File</strong> → <strong>Save</strong>.</li>
        <img src="Media/Introduction/image11.png" alt="Saving Changes" style="max-width: 100%; height: auto;">
        <li>Repeat this process for all other lock types EXCEPT <code>LTD_BasicLock_Simple</code>, as it doesn't have the property yet.</li>
    </ol>
    <p class="callout note"><strong>Note:</strong> UAssetGUI saves a backup (*.bak) file. Feel free to delete these.</p>
    
    <h2>4. Adding a New Property (Advanced)</h2>
    <p>This is the most complex part. We need to add the <code>PickableEasinessMultiplier</code> property to <code>LTD_BasicLock_Simple</code>.</p>
    <ol>
        <li>Open both <code>LTD_BasicLock_VeryTough</code> (our reference) and <code>LTD_BasicLock_Simple</code> (our target) in UAssetGUI.</li>
        <li>Save both files as <strong>UAssetAPI JSON (*.json)</strong>.</li>
        <li>Open both JSON files in a text editor like Notepad++ or VSCode.</li>
        <li>In the "Very Tough" JSON, find the <code>PickableEasinessMultiplier</code> property block and copy it. It looks like this:
            <pre><code>{
  "$type": "UAssetAPI.PropertyTypes.Objects.DoublePropertyData, UAssetAPI",
  "Value": 10.0,
  "Name": "PickableEasinessMultiplier",
  "ArrayIndex": 0,
  "IsZero": false,
  "PropertyTagFlags": "None",
  "PropertyTagExtensions": "NoExtension"
},</code></pre>
        </li>
        <li>In the "Simple" JSON, find the properties <code>bRemovable</code> and <code>RequirementsToCopyLock</code>.</li>
        <li>Paste the entire copied block on a new line between the closing brace <code>}</code> of <code>bRemovable</code> and the start of <code>RequirementsToCopyLock</code>. Ensure the comma is correctly placed.</li>
        <img src="Media/Introduction/image30.png" alt="Editing JSON File" style="max-width: 100%; height: auto;">
        <li>Save the modified <code>LTD_BasicLock_Simple.json</code>.</li>
        <li>Open the modified JSON file in UAssetGUI to verify the new property appears.</li>
        <li>If successful, use <strong>File → Save As</strong> to overwrite the original <code>LTD_BasicLock_Simple.uasset</code>.</li>
    </ol>

    <a href="#Pages/Introduction/5_Packaging.html" class="start-button">Next Step: Packaging Your Mod &rarr;</a>
</body>
</html>
