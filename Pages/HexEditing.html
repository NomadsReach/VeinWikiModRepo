<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hex Editing</title>
</head>
<body>

<h1>Hex Editing</h1>

<p>Hex editing is quite rare nowadays, as UAssetGUI can be used for it, but sometimes that tool fails so it's a good thing to know how to do it manually.</p>

<h2>Getting Default Values</h2>

<p>Start by finding the asset you're interested in modifying and exporting it using FModel or UModel.</p>

<p><img src="Pages/Media/HexEdit/hexedit0.png" alt="Export Asset"></p>

<p>For this example, the gloves glow color in Ghostrunner 2 will be changed from blue to red.</p>

<p>Using FModel, the exact RGB values of the glow can be obtained, which are <code>0.0, 33.0, 55.0, 1.0</code>.</p>

<p><img src="Pages/Media/HexEdit/hexedit1.png" alt="Get Values"></p>

<h2>Replacing Values using Hex (method 1)</h2>

<p>Exported files come in pairs of <code>.uasset</code> and <code>.uexp</code>. Values are stored in <code>.uexp</code> so that's the file that needs to be edited.</p>

<p>Open the <code>.uexp</code> file with a hex editor (this example uses Hex Editor Neo). Click Ctrl+H to open the Replace window (depending on the software you use, you may have different keybinding). Ensure the type is <code>Float</code> and enter the original values and the desired values.<br>
<strong>Note:</strong> If you don't have this replace feature, try <a href="#replacing-values-using-hex-method-2">method 2</a>.</p>

<p><img src="Pages/Media/HexEdit/hexedit2.png" alt="Replace Window"></p>

<p>Then click "Replace All", and if done properly a success window will be shown.</p>

<p><img src="Pages/Media/HexEdit/hexedit3.png" alt="Success"></p>

<h2>Packing</h2>

<p>Once you're done with replacing hex values, pack your modified <code>.uexp</code> file into its pak file using UnrealPak.</p>

<h3>Results</h3>

<p><img src="Pages/Media/HexEdit/hexedit4.png" alt="Results"></p>

<h2>Replacing Values using Hex (method 2)</h2>

<p>In case you don't have the replace feature in your hex editor, you can find the values by providing an array of hex values.</p>

<p>So for this example, the values are <code>0.0, 33.0, 55.0, 1.0</code> which need to be converted to little-endian hexadecimal representation.</p>

<p><img src="Pages/Media/HexEdit/hexedit5.png" alt="Hex Conversion"></p>

<p>Input these values into the search panel to find the values in the file.</p>

<p><img src="Pages/Media/HexEdit/hexedit6.png" alt="Search"></p>

<p>In this simple example, the combination is unique so only one result is found.</p>

<p><img src="Pages/Media/HexEdit/hexedit7.png" alt="Found Values"></p>

<p>Now replace these hex values with the desired hex, for this example, that's<br>
<code>55, 0, 0, 1</code> which is <code>00 00 5c 42 00 00 00 00 00 00 00 00 00 00 80 3F</code>.<br>
<em>(the 55 is the strength of the glow in this particular case, usually it's between 0.0 and 1.0)</em></p>

<p><img src="Pages/Media/HexEdit/hexedit8.png" alt="Replace Values"></p>

<p>Save the file, and pack the modified <code>.uexp</code> using UnrealPak.</p>

<h2>FAQ</h2>

<p><strong>Q:</strong> What if the values are not unique?<br>
<strong>A:</strong> Try to find a series of values around the actual variable. If the target value is followed/surrounded by another one, check that it appears in the corresponding order.</p>

</body>
</html>
